(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c});var r="SET_LOGIN",a="GET_LOGIN_DETAIL",o="SET_ERROR",c="SET_LOADER";t.e={setLogin:function(e){var t=e.login,n=e.username;return{type:r,payload:{login:t,username:n}}},getLoginDetail:function(e){var t=e.username,n=e.password;return{type:a,payload:{password:n,username:t}}},setError:function(e){return{type:o,payload:{message:e}}},setLoader:function(e){return{type:c,payload:{loader:e}}}}},31:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(17),c=n(10);n(48);t.a=Object(o.b)(function(e){return{login:e.auth.login}},c.e)(function(e){var t=e.login,n=e.setLogin;return t?a.a.createElement("header",{className:"container header"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-sm-2"}),a.a.createElement("div",{className:"col-sm-6"},a.a.createElement("h3",null,"Star Wars")),a.a.createElement("div",{className:"col-sm-4 logoutBtn"},a.a.createElement("input",{type:"button",value:"Logout",className:"btn btn-primary",onClick:function(){sessionStorage.clear(),n({login:!1,username:""})}})))):null})},38:function(e,t,n){e.exports=n(53)},43:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),c=n.n(o),u=(n(43),n(17)),s=n(14),i=n(36),l=n(6),d=n(9),m={searchList:[],loader:!1,selectedItem:{},searchCounter:[],count:0};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.e:return Object(l.a)(Object(l.a)({},e),{},{searchList:t.payload.list,loader:!1});case d.a:return Object(l.a)(Object(l.a)({},e),{},{loader:!0});case d.c:return Object(l.a)(Object(l.a)({},e),{},{count:t.payload.count+1});case d.b:return Object(l.a)(Object(l.a)({},e),{},{error:!1,count:0});case d.f:return Object(l.a)(Object(l.a)({},e),{},{selectedItem:t.payload.item});case d.d:return Object(l.a)(Object(l.a)({},e),{},{error:t.payload.message,loader:!1});default:return e}},b=n(10),f={login:sessionStorage.loggedInUser,username:"",error:"",loader:!1};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.d:return Object(l.a)(Object(l.a)({},e),{},{login:t.payload.login,username:t.payload.username});case b.b:return Object(l.a)(Object(l.a)({},e),{},{error:t.payload.message});case b.c:return Object(l.a)(Object(l.a)({},e),{},{loader:t.payload.loader});default:return e}},h=Object(s.c)({home:p,auth:g}),E=n(25),O=n.n(E),v=n(23),j=n(5),y=function(){return a.a.createElement("h1",null,"Loading...")},w=n(31),x=n(37);var S=Object(u.b)(function(e){return{login:e.auth.login}},function(e){return{dispatch:e}}),L=Object(s.d)(S,r.memo)(function(e){var t=e.login,n=e.component,r=Object(x.a)(e,["login","component"]),o=t;return a.a.createElement(j.b,Object.assign({},r,{render:function(e){return o&&e.location.pathname.includes("login")?a.a.createElement(j.a,{to:{pathname:"/home",state:{from:e.location}}}):o?a.a.createElement(n,e):e.location.pathname.includes("login")?a.a.createElement(n,e):a.a.createElement(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),T=O()({loader:function(){return n.e(3).then(n.bind(null,63))},loading:y}),k=O()({loader:function(){return n.e(4).then(n.bind(null,62))},loading:y});var I=function(){return a.a.createElement(v.a,null,a.a.createElement(w.a,null),a.a.createElement(j.d,null,a.a.createElement(L,{loginRequired:!0,path:"/home",component:T}),a.a.createElement(L,{loginRequired:!0,loginPage:!0,path:"/login",component:k}),a.a.createElement(j.a,{to:"/login"})))},_=n(15),R=n.n(_),N=n(8),C="https://swapi.dev/api/planets",U="https://swapi.dev/api/people",A=R.a.mark(G),D=R.a.mark(W);function G(e){var t,n,r,a,o,c,u;return R.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.payload,n=t.name,r=t.countFunction,a=e.payload.count,o="".concat(C,"?search=").concat(n),s.prev=3,!(a>14&&r>0&&"Luke Skywalker"!=sessionStorage.getItem("loggedInUser"))){s.next=8;break}return s.next=7,Object(N.b)(d.g.setError("Max search count reached. Kindly Try After a minute."));case 7:return s.abrupt("return",s.sent);case 8:return s.next=10,fetch(o).then(function(e){return e.json()});case 10:return c=s.sent,u=c.results,s.next=14,Object(N.b)(d.g.setSearchList({list:u}));case 14:return s.next=16,Object(N.b)(d.g.setError(!1));case 16:return s.next=18,Object(N.b)(d.g.setCount(a));case 18:s.next=24;break;case 20:return s.prev=20,s.t0=s.catch(3),s.next=24,Object(N.b)(d.g.setError("Internal server error"));case 24:case"end":return s.stop()}},A,null,[[3,20]])}function W(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)(500,d.a,G);case 2:case"end":return e.stop()}},D)}var B=W,H=n(35),J=R.a.mark(q),M=R.a.mark(F);function q(e){var t,n,r,a,o,c;return R.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.username,r=t.password,u.next=3,Object(N.b)(b.e.setLoader(!0));case 3:return a="".concat(U,"?search=").concat(n),u.prev=4,u.next=7,fetch(a).then(function(e){return e.json()});case 7:if(o=u.sent,JSON.stringify(sessionStorage.setItem("loggedInUser",n)),1!==(c=o.results).length||c[0].name!==n||c[0].birth_year!==r){u.next=19;break}return u.next=13,Object(N.b)(Object(H.push)("/home"));case 13:return u.next=15,Object(N.b)(b.e.setLogin({login:!0,username:n}));case 15:return u.next=17,Object(N.b)(b.e.setError(""));case 17:u.next=21;break;case 19:return u.next=21,Object(N.b)(b.e.setError("Wrong Username and password"));case 21:u.next=27;break;case 23:return u.prev=23,u.t0=u.catch(4),u.next=27,Object(N.b)(b.e.setError("Internal server error"));case 27:return u.next=29,Object(N.b)(b.e.setLoader(!1));case 29:case"end":return u.stop()}},J,null,[[4,23]])}function F(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(b.a,q);case 2:case"end":return e.stop()}},M)}var K=[B,F],P=Object(i.a)(),$=Object(s.e)(h,Object(s.a)(P));K.map(function(e){return P.run(e)});var z=function(){return a.a.createElement(u.a,{store:$},a.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return s});var r="GET_SEARCH_LIST",a="SET_SEARCH_LIST",o="SET_SELECTED_ITEM",c="SET_HOME_ERROR",u="SET_COUNT",s="RESET_COUNT";t.g={getSearchList:function(e,t,n){return{type:r,payload:{name:e,count:t,countFunction:n}}},setCount:function(e){return{type:u,payload:{count:e}}},resetCount:function(){return{type:s}},setSearchList:function(e){var t=e.list;return{type:a,payload:{list:t}}},setSelectedItem:function(e){return{type:o,payload:{item:e}}},setError:function(e){return{type:c,payload:{message:e}}}}}},[[38,1,2]]]);
//# sourceMappingURL=main.620b4a33.chunk.js.map